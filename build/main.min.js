function walkFunction(t){t[0],t[1],t[2],t[3]}function walkVaraibleDeclAssign(t){t[0],t[1],t[2]}function walkVariableDecl(t){t[0],t[1]}function walkIf(t){t[0],t[1]}function walkIfElse(t){t[0],t[1],t[2]}function walkWhile(t){t[0],t[1]}function walkDoWhile(t){t[0],t[1]}function walkFor(t){t[0],t[1],t[2],t[3]}function walkAddition(t){t[0],t[1]}function walkMinus(t){t[0],t[1]}function walkMultiplication(t){t[0],t[1]}function walkDivision(t){t[0],t[1]}function walkModulo(t){t[0],t[1]}function walkAddAssign(t){t[0],t[1]}function walkSubAssign(t){t[0],t[1]}function walkMultiAssign(t){t[0],t[1]}function walkDivAssign(t){t[0],t[1]}function walkModAssign(t){t[0],t[1]}function walkIncrement(t){t[0]}var walk=function(t){switch(t.type){case"function":walkFunction(t.arguments);break;case"variable-decl-assign":walkVaraibleDeclAssign(t.arguments);break;case"variable-decl":walkVariableDecl(t.arguments);break;case"addition":walkIf(t.arguments);break;case"ifelse":walkIfElse(t.arguments);break;case"while":walkWhile(t.arguments);break;case"do_while":walkDoWhile(t.arguments);break;case"for":walkFor(t.arguments);break;case"addition":walkAddition(t.arguments);break;case"minus":walkMinus(t.arguments);break;case"multiplication":walkMultiplication(t.arguments);break;case"division":walkDivision(t.arguments);break;case"modulo":walkModulo(t.arguments);break;case"add_assign":walkAddAssign(t.arguments);break;case"sub_assign":walkSubAssign(t.arguments);break;case"multi_assign":walkMultiAssign(t.arguments);break;case"div_assign":walkDivAssign(t.arguments);break;case"mod_assign":walkModAssign(t.arguments);break;case"increment":walkIncrement(t.arguments);break;case"decrement":walkDecrement(t.arguments);break;case"and":walkAnd(t.arguments);break;case"or":walkOr(t.arguments);break;case"bit-XOR":walkBitXOR(t.arguments);break;case"bit-AND":walkBitAND(t.arguments);break;case"bit-OR":walkBitOR(t.arguments);break;case"bit-right-shift":walkBitRightShift(t.arguments);break;case"bit-left-shift":walkBitLeftShift(t.arguments);break;case"zero-fill-right-shift":walkZeroFillRightShift(t.arguments);break;case"equality":walkEquality(t.arguments);break;case"less-than":walkLessThan(t.arguments);break;case"larger-than":walkLargerThan(t.arguments);break;case"not-equal":walkNotEqual(t.arguments);break;case"less-than-or-equal":walkLessThanOrEqual(t.arguments);break;case"greater-than-or-equal":walkGreaterThanOrEqual(t.arguments);break;case"assign":walkAssign(t.arguments)}},walkDecrement=function(t){t[0]},walkAnd=function(t){t[0],t[1]},walkOr=function(t){t[0],t[1]},walkAssign=function(t){t[0],t[1]},walkBitAND=function(t){t[0],t[1]},walkZeroFillRightShift=function(t){t[0],t[1]},walkBitOR=function(t){t[0],t[1]},walkBitRightShift=function(t){t[0],t[1]},walkBitLeftShift=function(t){t[0],t[1]},walkbitXOR=function(t){t[0],t[1]},walkNotEqual=function(t){t[0],t[1]},walkLessThanOrEqual=function(t){t[0],t[1]},walkLessThan=function(t){t[0],t[1]},walkLargerThan=function(t){t[0],t[1]},walkGreaterThanOrEqual=function(t){t[0],t[1]},walkEquality=function(t){t[0],t[1]},parser=function(){function t(){this.yy={}}var e=function(t,e,r,a){for(r=r||{},a=t.length;a--;r[t[a]]=e);return r},r=[1,7],a=[1,41],s=[1,16],n=[1,17],i=[1,18],o=[1,19],c=[1,20],h=[1,21],l=[1,22],u=[1,23],f=[1,35],g=[1,36],m=[1,37],d=[1,38],y=[1,39],p=[1,40],S=[1,24],b=[1,25],k=[1,26],_=[1,27],P=[1,28],E=[1,29],O=[1,30],v=[1,31],I=[1,32],T=[1,33],A=[1,34],N=[5,10,21,25,32,34,35,36,37,38,39,67,68,69,70,71,72,76,77,78,79,80,81,82,83,84,85,86],w=[1,45],R=[5,10,21,25,26,32,34,35,36,37,38,39,67,68,69,70,71,72,76,77,78,79,80,81,82,83,84,85,86],L=[2,80],M=[1,48],F=[5,10,21,25,26,32,33,34,35,36,37,38,39,67,68,69,70,71,72,76,77,78,79,80,81,82,83,84,85,86],x=[5,10,21,22,25,26,32,33,34,35,36,37,38,39,67,68,69,70,71,72,74,76,77,78,79,80,81,82,83,84,85,86],D=[1,77],C=[1,51],U=[1,52],$=[1,53],G=[1,54],B=[1,55],V=[1,56],H=[1,57],q=[1,58],J=[1,59],W=[1,60],j=[1,61],z=[1,62],X=[1,63],Y=[1,64],Z=[1,65],Q=[1,66],K=[1,67],te=[1,68],ee=[1,69],re=[1,70],ae=[1,71],se=[1,72],ne=[1,73],ie=[1,74],oe=[1,75],ce=[1,76],he=[2,86],le=[1,78],ue=[1,94],fe=[25,67],ge=[5,10,16,21,22,24,25,26,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,74,76,77,78,79,80,81,82,83,84,85,86],me=[22,24],de=[5,10,16,21,22,24,25,26,32,34,35,36,37,38,39,67,68,69,70,71,72,74,76,77,78,79,80,81,82,83,84,85,86],ye=[5,10,21,25,26,32,34,35,36,37,38,39,67,68,69,70,71,72,74,76,77,78,79,80,81,82,83,84,85,86],pe=[1,134],Se=[21,25,26,32,34,35,36,37,38,39,67,68,69,70,71,72],be=[10,21,25,26,32,34,35,36,37,38,39,67,68,69,70,71,72,76,77,78,79,80,81,82,83,84,85,86],ke=[2,84],_e=[21,25,67,68,69,70,71,72],Pe=[22,24,26],Ee=[19,25],Oe={trace:function(){},yy:{},symbols_:{error:2,start:3,program:4,EOF:5,declarations:6,"out-decl":7,"in-decl":8,statement:9,FUNCTION:10,declarator:11,declaration_list:12,func_return:13,body:14,param:15,ASSIGN:16,exp:17,semi:18,RETURN_TYPE:19,type:20,OPEN_PARENS:21,CLOSE_PARENS:22,param_list:23,COMMA:24,OPEN_BRACE:25,CLOSE_BRACE:26,statement_list:27,decl_list:28,condition_statements:29,iteration_statements:30,jump_statements:31,IF:32,ELSE:33,WHILE:34,DO:35,FOR:36,CONTINUE:37,BREAK:38,RETURN:39,prim_expr:40,PLUS:41,MINUS:42,ASTERIX:43,DIV:44,PERCENT:45,OP_ADD_ASSIGNMENT:46,OP_SUB_ASSIGNMENT:47,OP_MULT_ASSIGNMENT:48,OP_DIV_ASSIGNMENT:49,OP_MOD_ASSIGNMENT:50,OP_INC:51,OP_DEC:52,OP_AND:53,OP_OR:54,CARET:55,AMP:56,BITWISE_OR:57,OP_RIGHT_SHIFT:58,OP_LEFT_SHIFT:59,ZERO_FILL_RIGHT_SHIFT:60,OP_EQ:61,LT:62,GT:63,OP_NE:64,OP_LE:65,OP_GE:66,IDENTIFIER:67,DIGIT:68,TRUE:69,FALSE:70,STRINGT:71,NOT:72,init_list:73,SEMICOLON:74,declaration:75,VOID:76,STRING:77,INT:78,FLOAT:79,BOOL:80,POINT:81,VECTOR_2:82,VECTOR_3:83,VECTOR_4:84,LINE:85,POLYGON:86,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"FUNCTION",16:"ASSIGN",19:"RETURN_TYPE",21:"OPEN_PARENS",22:"CLOSE_PARENS",24:"COMMA",25:"OPEN_BRACE",26:"CLOSE_BRACE",32:"IF",33:"ELSE",34:"WHILE",35:"DO",36:"FOR",37:"CONTINUE",38:"BREAK",39:"RETURN",41:"PLUS",42:"MINUS",43:"ASTERIX",44:"DIV",45:"PERCENT",46:"OP_ADD_ASSIGNMENT",47:"OP_SUB_ASSIGNMENT",48:"OP_MULT_ASSIGNMENT",49:"OP_DIV_ASSIGNMENT",50:"OP_MOD_ASSIGNMENT",51:"OP_INC",52:"OP_DEC",53:"OP_AND",54:"OP_OR",55:"CARET",56:"AMP",57:"BITWISE_OR",58:"OP_RIGHT_SHIFT",59:"OP_LEFT_SHIFT",60:"ZERO_FILL_RIGHT_SHIFT",61:"OP_EQ",62:"LT",63:"GT",64:"OP_NE",65:"OP_LE",66:"OP_GE",67:"IDENTIFIER",68:"DIGIT",69:"TRUE",70:"FALSE",71:"STRINGT",72:"NOT",74:"SEMICOLON",76:"VOID",77:"STRING",78:"INT",79:"FLOAT",80:"BOOL",81:"POINT",82:"VECTOR_2",83:"VECTOR_3",84:"VECTOR_4",85:"LINE",86:"POLYGON"},productions_:[0,[3,2],[4,1],[4,2],[6,1],[6,1],[6,1],[7,5],[8,4],[8,2],[13,2],[13,0],[12,2],[12,3],[23,1],[23,3],[15,2],[14,2],[14,3],[14,3],[14,4],[9,2],[9,1],[9,1],[9,1],[9,1],[29,5],[29,7],[30,5],[30,7],[30,9],[31,2],[31,2],[31,3],[31,2],[28,1],[28,1],[28,2],[28,2],[27,1],[27,2],[17,1],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,2],[17,2],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[17,3],[40,1],[40,1],[40,1],[40,1],[40,1],[40,2],[40,3],[40,5],[40,3],[40,3],[18,1],[18,0],[11,1],[75,1],[75,4],[73,1],[73,3],[73,0],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1]],performAction:function(t,e,r,a,s,n){var i=n.length-1;switch(s){case 1:return"undefined"!=typeof console?console.log("%j",n[i-1]):print(n[i-1]),n[i-1];case 3:case 74:this.$=[n[i-1],n[i]];break;case 7:this.$={type:"function",arguments:[n[i-3],n[i-2],n[i-1],n[i]]};break;case 8:this.$={type:"variable-decl-assign",arguments:[n[i-3],n[i-1]]};break;case 9:this.$={type:"variable-decl",arguments:n[i-1]};break;case 10:case 14:this.$=n[i];break;case 11:this.$="void";break;case 12:this.$="";break;case 13:case 18:case 19:this.$=n[i-1];break;case 15:this.$=[n[i-2],n[i]];break;case 16:this.$=[n[i-1],n[i]];break;case 17:this.$="";break;case 20:this.$=[n[i-2],n[i-1]];break;case 26:this.$={type:"if",arguments:[n[i-2],n[i]]};break;case 27:this.$={type:"ifelse",arguments:[n[i-4],n[i-2],n[i-1]]};break;case 28:this.$={type:"while",arguments:[n[i-2],n[i-1]]};break;case 29:this.$={type:"do_while",arguments:[n[i-5],n[i-2]]};break;case 30:this.$={type:"for",arguments:[n[i-6],n[i-4],n[i-2],n[i]]};break;case 33:this.$=[n[i-2],n[i-1]];break;case 37:case 38:case 40:this.$=[n[i-1],n[i]];break;case 42:this.$={type:"addition",arguments:[n[i-2],n[i]]};break;case 43:this.$={type:"minus",arguments:[n[i-2],n[i]]};break;case 44:this.$={type:"multiplication",arguments:[n[i-2],n[i]]};break;case 45:this.$={type:"division",arguments:[n[i-2],n[i]]};break;case 46:this.$={type:"modulo",arguments:[n[i-2],n[i]]};break;case 47:this.$={type:"add_assign",arguments:[n[i-2],n[i]]};break;case 48:this.$={type:"sub_assign",arguments:[n[i-2],n[i]]};break;case 49:this.$={type:"multi_assign",arguments:[n[i-2],n[i]]};break;case 50:this.$={type:"div_assign",arguments:[n[i-2],n[i]]};break;case 51:this.$={type:"mod_assign",arguments:[n[i-2],n[i]]};break;case 52:this.$={type:"increments",arguments:[n[i-1]]};break;case 53:this.$={type:"decrement",arguments:[n[i-1]]};break;case 54:this.$={type:"and",arguments:[n[i-2],n[i]]};break;case 55:this.$={type:"or",arguments:[n[i-2],n[i]]};break;case 56:this.$={type:"bit-XOR",arguments:[n[i-2],n[i]]};break;case 57:this.$={type:"bit-AND",arguments:[n[i-2],n[i]]};break;case 58:this.$={type:"bit-OR",arguments:[n[i-2],n[i]]};break;case 59:this.$={type:"bit-right-shift",arguments:[n[i-2],n[i]]};break;case 60:this.$={type:"bit-left-shift",arguments:[n[i-2],n[i]]};break;case 61:this.$={type:"zero-fill-right-shift",arguments:[n[i-2],n[i]]};break;case 62:this.$={type:"equality",arguments:[n[i-2],n[i]]};break;case 63:this.$={type:"less-than",arguments:[n[i-2],n[i]]};break;case 64:this.$={type:"larger-than",arguments:[n[i-2],n[i]]};break;case 65:this.$={type:"not-equal",arguments:[n[i-2],n[i]]};break;case 66:this.$={type:"less-than-or-equal ",arguments:[n[i-2],n[i]]};break;case 67:this.$={type:"greater-than-or-equal",arguments:[n[i-2],n[i]]};break;case 68:this.$={type:"assign",arguments:[n[i-2],n[i]]};break;case 75:case 77:case 78:this.$=n[i-1];break;case 76:this.$=[n[i-4],n[i-2]];break;case 83:this.$=[n[i-3],n[i-1]];break;case 85:this.$=[n[i-2],n[i]]}},table:[{3:1,4:2,6:3,7:4,8:5,9:6,10:r,14:10,15:8,17:9,20:14,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},{1:[3]},{5:[1,42],6:43,7:4,8:5,9:6,10:r,14:10,15:8,17:9,20:14,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},e(N,[2,2]),e(N,[2,4]),e(N,[2,5]),e(N,[2,6]),{11:44,67:w},e(R,L,{18:47,16:[1,46],74:M}),e(F,L,{18:49,74:M}),e(F,[2,22]),e(F,[2,23]),e(F,[2,24]),e(F,[2,25]),{11:50,67:w},e(x,[2,41],{16:D,41:C,42:U,43:$,44:G,45:B,46:V,47:H,48:q,49:J,50:W,51:j,52:z,53:X,54:Y,55:Z,56:Q,57:K,58:te,59:ee,60:re,61:ae,62:se,63:ne,64:ie,65:oe,66:ce}),{7:84,8:83,9:82,10:r,14:10,15:8,17:9,20:14,21:a,24:he,25:s,26:le,27:79,28:80,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:85,67:f,68:g,69:m,70:d,71:y,72:p,73:81,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},{21:[1,86]},{21:[1,87]},{9:88,14:10,17:9,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{21:[1,89]},e(F,L,{18:90,74:M}),e(F,L,{18:91,74:M}),e([5,10,26,32,33,34,35,36,37,38,39,76,77,78,79,80,81,82,83,84,85,86],L,{40:15,17:92,18:93,21:a,25:ue,67:f,68:g,69:m,70:d,71:y,72:p,74:M}),e(fe,[2,87]),e(fe,[2,88]),e(fe,[2,89]),e(fe,[2,90]),e(fe,[2,91]),e(fe,[2,92]),e(fe,[2,93]),e(fe,[2,94]),e(fe,[2,95]),e(fe,[2,96]),e(fe,[2,97]),e([5,10,16,22,24,25,26,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,74,76,77,78,79,80,81,82,83,84,85,86],[2,69],{21:[1,95]}),e(ge,[2,70]),e(ge,[2,71]),e(ge,[2,72]),e(ge,[2,73]),{21:a,25:ue,40:96,67:f,68:g,69:m,70:d,71:y,72:p},e(me,he,{40:85,17:97,73:98,21:a,25:ue,67:f,68:g,69:m,70:d,71:y,72:p}),{1:[2,1]},e(N,[2,3]),{12:99,21:[1,100]},e(de,[2,81]),{17:101,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(ye,[2,9]),e(ge,[2,79]),e(F,[2,21]),e(de,[2,16]),{17:102,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:103,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:104,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:105,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:106,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:107,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:108,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:109,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:110,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:111,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(x,[2,52]),e(x,[2,53]),{17:112,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:113,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:114,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:115,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:116,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:117,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:118,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:119,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:120,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:121,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:122,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:123,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:124,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:125,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:126,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(F,[2,17]),{9:128,14:10,17:9,21:a,25:s,26:[1,127],29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{7:132,8:131,9:82,10:r,14:10,15:8,17:9,20:14,21:a,25:s,26:[1,129],27:130,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},{24:pe,26:[1,133]},e(Se,[2,39]),e(be,[2,35]),e(be,[2,36]),e([21,22,24,25,26,32,34,35,36,37,38,39,67,68,69,70,71,72,74],ke,{16:D,41:C,42:U,43:$,44:G,45:B,46:V,47:H,48:q,49:J,50:W,51:j,52:z,53:X,54:Y,55:Z,56:Q,57:K,58:te,59:ee,60:re,61:ae,62:se,63:ne,64:ie,65:oe,66:ce}),{17:135,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:136,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{34:[1,137]},{8:138,15:8,20:14,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},e(F,[2,31]),e(F,[2,32]),e(F,L,{18:139,74:M}),e(F,[2,34]),e([24,26],he,{73:81,40:140,21:a,25:ue,67:f,68:g,69:m,70:d,71:y,72:p}),e(me,he,{40:140,73:141,21:a,25:ue,67:f,68:g,69:m,70:d,71:y,72:p}),e(ge,[2,74]),{22:[1,142]},{22:[1,143],24:pe},{13:144,19:[1,145],25:[2,11]},{15:148,20:14,22:[1,146],23:147,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},e(R,L,{18:149,74:M}),e(x,[2,42]),e(x,[2,43]),e(x,[2,44]),e(x,[2,45]),e(x,[2,46]),e(x,[2,47]),e(x,[2,48]),e(x,[2,49]),e(x,[2,50]),e(x,[2,51]),e(x,[2,54]),e(x,[2,55]),e(x,[2,56]),e(x,[2,57]),e(x,[2,58]),e(x,[2,59]),e(x,[2,60]),e(x,[2,61]),e(x,[2,62]),e(x,[2,63]),e(x,[2,64]),e(x,[2,65]),e(x,[2,66]),e(x,[2,67]),e(x,[2,68]),e(F,[2,18]),e(Se,[2,40]),e(F,[2,19]),{9:128,14:10,17:9,21:a,25:s,26:[1,150],29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(be,[2,37]),e(be,[2,38]),e(ge,[2,77]),{21:a,25:ue,40:151,67:f,68:g,69:m,70:d,71:y,72:p},{22:[1,152]},{22:[1,153]},{21:[1,154]},e(_e,L,{18:155,74:M}),e(F,[2,33]),e(Pe,ke),{22:[1,156],24:pe},e(ge,[2,75]),e(ge,[2,78]),{14:157,25:[1,158]},{20:159,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},e(Ee,[2,12]),{22:[1,160],24:[1,161]},e(me,[2,14]),e(ye,[2,8]),e(F,[2,20]),e(Pe,[2,85]),{9:162,14:10,17:9,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{9:163,14:10,17:9,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:164,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},{17:165,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e([5,10,16,21,22,24,25,26,32,33,34,35,36,37,38,39,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,76,77,78,79,80,81,82,83,84,85,86],L,{18:166,74:M}),e(R,[2,7]),{7:84,8:83,9:82,10:r,14:10,15:8,17:9,20:14,21:a,25:s,26:le,27:79,28:80,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},{25:[2,10]},e(Ee,[2,13]),{15:167,20:14,76:S,77:b,78:k,79:_,80:P,81:E,82:O,83:v,84:I,85:T,86:A},e(R,[2,26],{33:[1,168]}),e(F,[2,28]),{22:[1,169]},e(_e,L,{18:170,74:M}),e(ge,[2,76]),e(me,[2,15]),{9:171,14:10,17:9,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(F,L,{18:172,74:M}),{17:173,21:a,25:ue,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(F,[2,27]),e(F,[2,29]),{22:[1,174]},{9:175,14:10,17:9,21:a,25:s,29:11,30:12,31:13,32:n,34:i,35:o,36:c,37:h,38:l,39:u,40:15,67:f,68:g,69:m,70:d,71:y,72:p},e(F,[2,30])],defaultActions:{42:[2,1],159:[2,10]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){function e(){var t;return t=m.lex()||f,"number"!=typeof t&&(t=r.symbols_[t]||t),t}var r=this,a=[0],s=[null],n=[],i=this.table,o="",c=0,h=0,l=0,u=2,f=1,g=n.slice.call(arguments,1),m=Object.create(this.lexer),d={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(d.yy[y]=this.yy[y]);m.setInput(t,d.yy),d.yy.lexer=m,d.yy.parser=this,"undefined"==typeof m.yylloc&&(m.yylloc={});var p=m.yylloc;n.push(p);var S=m.options&&m.options.ranges;this.parseError="function"==typeof d.yy.parseError?d.yy.parseError:Object.getPrototypeOf(this).parseError;for(var b,k,_,P,E,O,v,I,T,A={};;){if(_=a[a.length-1],this.defaultActions[_]?P=this.defaultActions[_]:((null===b||"undefined"==typeof b)&&(b=e()),P=i[_]&&i[_][b]),"undefined"==typeof P||!P.length||!P[0]){var N="";T=[];for(O in i[_])this.terminals_[O]&&O>u&&T.push("'"+this.terminals_[O]+"'");N=m.showPosition?"Parse error on line "+(c+1)+":\n"+m.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(c+1)+": Unexpected "+(b==f?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(N,{text:m.match,token:this.terminals_[b]||b,line:m.yylineno,loc:p,expected:T})}if(P[0]instanceof Array&&P.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+b);switch(P[0]){case 1:a.push(b),s.push(m.yytext),n.push(m.yylloc),a.push(P[1]),b=null,k?(b=k,k=null):(h=m.yyleng,o=m.yytext,c=m.yylineno,p=m.yylloc,l>0&&l--);break;case 2:if(v=this.productions_[P[1]][1],A.$=s[s.length-v],A._$={first_line:n[n.length-(v||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(v||1)].first_column,last_column:n[n.length-1].last_column},S&&(A._$.range=[n[n.length-(v||1)].range[0],n[n.length-1].range[1]]),E=this.performAction.apply(A,[o,h,c,d.yy,P[1],s,n].concat(g)),"undefined"!=typeof E)return E;v&&(a=a.slice(0,-1*v*2),s=s.slice(0,-1*v),n=n.slice(0,-1*v)),a.push(this.productions_[P[1]][0]),s.push(A.$),n.push(A._$),I=i[a[a.length-2]][a[a.length-1]],a.push(I);break;case 3:return!0}}return!0}},ve=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,r=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===a.length?this.yylloc.first_column:0)+a[a.length-r.length].length-r[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var r,a,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),a=t[0].match(/(?:\r\n?|\n).*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],r=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var n in s)this[n]=s[n];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,r,a;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),n=0;n<s.length;n++)if(r=this._input.match(this.rules[s[n]]),r&&(!e||r[0].length>e[0].length)){if(e=r,a=n,this.options.backtrack_lexer){if(t=this.test_match(r,s[n]),t!==!1)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,s[a]),t!==!1?t:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,r,a){switch(r){case 0:break;case 1:break;case 2:break;case 3:return 80;case 4:return 38;case 5:return"CLEAR";case 6:return 37;case 7:return 35;case 8:return 33;case 9:return 70;case 10:return 79;case 11:return 36;case 12:return 10;case 13:return 32;case 14:return 85;case 15:return 78;case 16:return 72;case 17:return"NULL";case 18:return 81;case 19:return 86;case 20:return 39;case 21:return 77;case 22:return 69;case 23:return 76;case 24:return 34;case 25:return 82;case 26:return 83;case 27:return 84;case 28:return 25;case 29:return 26;case 30:return"OPEN_BRACKET";case 31:return"CLOSE_BRACKET";case 32:return 21;case 33:return 22;case 34:return 24;case 35:return"COLON";case 36:return 74;case 37:return 19;case 38:return 16;case 39:return 46;case 40:return 51;case 41:return 41;case 42:return 47;case 43:return 52;case 44:return 42;case 45:return 48;case 46:return 43;case 47:return 49;case 48:return 44;case 49:return 50;case 50:return"MODULO";case 51:return 53;case 52:return"OP_AND_ASSIGNMENT";case 53:return 56;case 54:return 54;case 55:return"OP_OR_ASSIGNMENT";case 56:return 57;case 57:return"OP_XOR_ASSIGNMENT";case 58:return 55;case 59:return"TILDE";case 60:return 61;case 61:return 62;case 62:return 63;case 63:return 64;case 64:return 65;case 65:return 66;case 66:return"EXCL";case 67:return"OP_LEFT_SHIFT_ASSIGNMENT";case 68:return 59;case 69:return"OP_RIGHT_SHIFT_ASSIGNMENT";case 70:return 60;case 71:return 58;case 72:return 5;case 73:return e.yytext=e.yytext.slice(1,-1),71;case 74:return 68;case 75:return 68;case 76:return 67}},rules:[/^(?:\s+)/,/^(?:\/\/.*)/,/^(?:#.*)/,/^(?:bool\b)/,/^(?:break\b)/,/^(?:clear\b)/,/^(?:continue\b)/,/^(?:do\b)/,/^(?:else\b)/,/^(?:false\b)/,/^(?:float\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:if\b)/,/^(?:Line\b)/,/^(?:int\b)/,/^(?:not\b)/,/^(?:null\b)/,/^(?:Point\b)/,/^(?:Polygon\b)/,/^(?:return\b)/,/^(?:String\b)/,/^(?:true\b)/,/^(?:void\b)/,/^(?:while\b)/,/^(?:vector\(2\))/,/^(?:vector\(3\))/,/^(?:vector\(4\))/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?::)/,/^(?:;)/,/^(?:->)/,/^(?:=)/,/^(?:\+=)/,/^(?:\+\+)/,/^(?:\+)/,/^(?:-=)/,/^(?:--)/,/^(?:-)/,/^(?:\*=)/,/^(?:\*)/,/^(?:\/=)/,/^(?:\/)/,/^(?:%=)/,/^(?:%)/,/^(?:&&)/,/^(?:&=)/,/^(?:&)/,/^(?:\|\|)/,/^(?:\|=)/,/^(?:\|)/,/^(?:\^=)/,/^(?:\^)/,/^(?:~)/,/^(?:\?=)/,/^(?:\?<)/,/^(?:\?>)/,/^(?:!=)/,/^(?:!>)/,/^(?:!<)/,/^(?:!)/,/^(?:<<=)/,/^(?:<<)/,/^(?:>>=)/,/^(?:>>>)/,/^(?:>>)/,/^(?:$)/,/^(?:"[^"]+")/,/^(?:[0-9]+(\.[0-9]*)?)/,/^(?:\.[0-9]+)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],inclusive:!0}}};return t}();return Oe.lexer=ve,t.prototype=Oe,Oe.Parser=t,new t}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var e=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return exports.parser.parse(e)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1)));var MVM=function(t,e){this.opCodes={STOREG:0,LOADG:1,STOREL:2,LOADL:3,LOADC:4,IADD:5,ISUB:6,IMUL:7,IDIV:8,FADD:9,FSUB:10,FMUL:11,FDIV:12,NCMPEQ:13,NCMPLT:14,NCMPGT:15,JUMP:16,JUMPT:17,JUMPF:18,CALL:19,RETURN:20,LNDRAW:21},this.glctx=t,this.manager=e,this.interpret=function(t,e){for(var r=0,a=0,s=e.length,n=[],i=0,o=0,c=0,h=1,l=[],u=this.opCodes;s>a;){r++;var f=e[a];switch(a++,f){case u.STOREG:var g=e[a];a++,i--;var m=n[i];l[g]=m,t&&console.log("STOREG: "+m+" "+g);break;case u.LOADG:var g=e[a];a++,n[i]=l[g],i++,t&&console.log("LOADG: "+m+" "+g);break;case u.STOREL:var d=e[a];a++,i--,n[o+d]=n[i],i++,t&&console.log("STOREL: "+n[i-1]+" "+d);break;case u.LOADL:var d=e[a];a++,n[i]=n[o+d],i++,t&&console.log("LOADL: "+n[i-1]+" "+d);break;case u.LOADC:var y=e[a];a++,n[i]=y,i++,t&&console.log("LOADC: "+y);break;case u.IADD:i--;var m=Math.floor(n[i]);i--;var p=Math.floor(n[i]),S=p+m;n[i]=S,i++,t&&console.log("IADD: "+p+" + "+m+" = "+S);break;case u.ISUB:i--;var m=Math.floor(n[i]);i--;var p=Math.floor(n[i]),S=p-m;n[i]=S,i++,t&&console.log("ISUB: "+p+" - "+m+" = "+S);break;case u.IMUL:i--;var m=Math.floor(n[i]);i--;var p=Math.floor(n[i]),S=p*m;n[i]=S,i++,t&&console.log("IMUL: "+p+" * "+m+" = "+S);break;case u.IDIV:i--;var m=Math.floor(n[i]);i--;var p=Math.floor(n[i]),S=Math.floor(p/m);n[i]=S,i++,t&&console.log("IDIV: "+p+" / "+m+" = "+S);break;case u.FADD:i--;var m=n[i];i--;var p=n[i],S=p+m;n[i]=S,i++,t&&console.log("FADD: "+p+" + "+m+" = "+S);break;case u.FSUB:i--;var m=n[i];i--;var p=n[i];n[i]=p-m,i++,t&&console.log("FSUB: "+p+" - "+m+" = "+S);break;case u.FMUL:i--;var m=n[i];i--;var p=n[i],S=p*m;n[i]=S,i++,t&&console.log("FMUL: "+p+" * "+m+" = "+S);break;case u.FDIV:i--;var m=n[i];i--;var p=n[i],S=p/m;n[i]=S,i++,t&&console.log("FMUL: "+p+" / "+m+" = "+S);break;case u.NCMPEQ:i--;var m=n[i];i--;var p=n[i],S=p==m?1:0;n[i]=S,i++,t&&console.log("NCMPEQ: "+p+" == "+m+" = "+S);break;case u.NCMPLT:i--;var m=n[i];i--;var p=n[i],S=m>p?1:0;n[i]=S,i++,t&&console.log("NCMPLT: "+p+" < "+m+" = "+S);break;case u.NCMPGT:i--;var m=n[i];i--;var p=n[i],S=p>m?1:0;n[i]=S,i++,t&&console.log("NCMPLT: "+p+" > "+m+" = "+S);break;case u.JUMP:var g=e[a];a=g,t&&console.log("JUMP: "+g);break;case u.JUMPT:var g=e[a];i--;var m=n[i];S=1==m,S?a=e[a]:a++,t&&console.log("JUMPT: "+m+" "+S);break;case u.JUMPF:var g=e[a];i--;var m=n[i],S=0==m;t&&console.log("JUMPF: "+m+" "+S),S?a=e[a]:a++;break;case u.CALL:var g=e[a];a++;var b=e[a];a++;for(var k=a,_=o,P=[],m=0;b>m;)i--,P[m]=n[i],m++;for(o=i,n[i]=_,i++,n[i]=k,i++;m>=0;)m--,n[i]=arg[m],i++;break;case u.RETURN:var E,O=e[a];O&&(E=n[i-1]);var k=n[o+h];a=k,i=o,o=n[o+c],n[i]=E,i++;case u.LNDRAW:this.glctx.clearColor(0,0,0,1),this.glctx.clear(this.glctx.COLOR_BUFFER_BIT|this.glctx.DEPTH_BUFFER_BIT);var v=new Float32Array([-.5,-.5,0,.5,.5,0]),I=this.manager.getProgram("square","square");I.setDrawMode(Palette.Program.LINES),I.draw(v,{},{color:[Math.random(),Math.random(),Math.random(),1]});case 999:}if(r++,r>1e5){console.log("INF LOOP");break}}}},Palette=Palette||{};Palette.Manager=function(t){if(!(t instanceof WebGLRenderingContext))throw new TypeError("Error: attempted to create Palette with illegal argument.");this.context=t,this.vertShaders={},this.fragShaders={},this.programs={},this.shaderFactory=new Palette.ShaderFactory(this)},Palette.Manager.prototype={addShader:function(t){this.shaderFactory.addShader(t)},draw:function(t,e,r,a,s){this.getProgram(t,e).draw(r,a,s)},getProgram:function(t,e){var r,a,s,n=this.getShaderName(t),i=this.getShaderName(e);return this.programs[n]=this.programs[n]||{},this.programs[n][i]=this.programs[n][i]||{},this.programs[n][i]instanceof Palette.Program||(r=t instanceof Palette.Shader?t:this.getShader(Palette.Shader.VS,n),a=e instanceof Palette.Shader?e:this.getShader(Palette.Shader.FS,i),this.programs[n][i]=new Palette.Program(this.context,r,a)),s=this.programs[n][i]},getShader:function(t,e){return t===Palette.Shader.VS?this.vertShaders[e]:this.fragShaders[e]},getShaderName:function(t){var e;return e=t instanceof Palette.Shader?t.name:t}},Palette.Manager.prototype.constructor=Palette.Manager,Palette.Program=function(t,e,r){this.context=t,this.vs=e,this.fs=r,this.program=null,this.compiled=!1,this.attrs={vs:{access:{},store:{},send:{}},fs:{access:{},store:{},send:{}}},this.drawMode=Palette.Program.TRIANGLES,this.linkProgram(),this.prepareAttrStores()},Palette.Program.prototype={draw:function(t,e,r){this.context.useProgram(this.program),e||(e={}),e.vertexBuffer=t,this.generateSend(this.attrs.vs,e),this.generateSend(this.attrs.fs,r),this.passAttrstoProg(),this.context.drawArrays(this.drawMode,0,this.attrs.vs.send.vertexBuffer.length/this.attrs.vs.access.vertexBuffer.itemSize)
},restoreDefaultConfig:function(t){for(var e,r,a=0;2>a;a++){if(a){if(!t&Palette.Program.FS_MODE)continue;r=this.fs,e=this.attrs.fs}else{if(!t&Palette.Program.VS_MODE)continue;r=this.vs,e=this.attrs.vs}for(var s=r.attrs.length-1;s>=0;s--){var n=r.attrs[s],i=n[0];"buffer"==n[1]||"vertexAttrib"==n[1]?e.store[i]=null:"vertexAttrib"!=n[1]&&(e.store[i]=n[2])}}},setConfig:function(t,e){for(var r,a,s=0;2>s;s++){if(s){if(!t&Palette.Program.FS_MODE)continue;a=this.fs,r=this.attrs.fs}else{if(!t&Palette.Program.VS_MODE)continue;a=this.vs,r=this.attrs.vs}for(var n in r.access){var i=r.store[n];void 0!=e[n]&&(i=e[n])}}},linkProgram:function(){return this.compiled?!1:(this.compiled=!0,this.program=this.context.createProgram(),this.context.attachShader(this.program,this.vs.shader),this.context.attachShader(this.program,this.fs.shader),this.context.linkProgram(this.program),!0)},prepareAttrStores:function(){this.context.useProgram(this.program);for(var t,e,r=0;2>r;r++){r?(t=this.fs,e=this.attrs.fs):(t=this.vs,e=this.attrs.vs);for(var a=t.attrs.length-1;a>=0;a--){var s=t.attrs[a],n=s[0];e.access[n]=e.access[n]||{};var i=e.access[n];i.setFunction=Palette.Program.fetchSetter(this.context,s[1]),"vertexAttrib"==s[1]?(i.pointer=this.context.getAttribLocation(this.program,s[0]),this.context.enableVertexAttribArray(i.pointer),i.bufferName=s[2]):"buffer"==s[1]?(i.pointer=this.context.createBuffer(),i.itemSize=s[2]):i.pointer=this.context.getUniformLocation(this.program,s[0]),i.type=s[1]}}this.restoreDefaultConfig(Palette.Program.BOTH_MODE)},passAttrstoProg:function(){for(var t,e=0;2>e;e++){t=e?this.attrs.fs:this.attrs.vs;for(var r in t.access){var a=t.send[r],s=t.access[r];if("mat"==s.type.substr(0,3))s.setFunction(s.pointer,this.context.FALSE,a);else if("vertexAttrib"==s.type){var n=this.attrs.vs.access[s.bufferName];s.setFunction(s,n)}else"buffer"==s.type?s.setFunction(s,a):s.setFunction(s.pointer,a)}}},setDrawMode:function(t){this.drawMode=t},generateSend:function(t,e){var r;for(name in t.access)r=e[name]?e[name]:t.store[name],t.send[name]=r}},Palette.Program.fetchSetter=function(t,e){var r=function(t){return function(e,r){t(e,r[0])}},a=function(t){return function(e,r){t(e,r[0],r[1])}},s=function(t){return function(e,r){t(e,r[0],r[1],r[2])}},n=function(t){return function(e,r){t(e,r[0],r[1],r[2],r[3])}};switch(e){case"float":return r(t.uniform1f.bind(t));case"float[]":return t.uniform1fv.bind(t);case"int":return r(t.uniform1i.bind(t));case"int[]":return t.uniform1iv.bind(t);case"vec2":return a(t.uniform2f.bind(t));case"vec2[]":return t.uniform2fv.bind(t);case"ivec2":return a(t.uniform2i.bind(t));case"ivec2[]":return t.uniform2iv.bind(t);case"vec3":return s(t.uniform3f.bind(t));case"vec3[]":return t.uniform3fv.bind(t);case"ivec3":return s(t.uniform3i.bind(t));case"ivec3[]":return t.uniform3iv.bind(t);case"vec4":return n(t.uniform4f.bind(t));case"vec4[]":return t.uniform4fv.bind(t);case"ivec4":return n(t.uniform4i.bind(t));case"ivec4[]":return t.uniform4iv.bind(t);case"mat2":return t.uniformMatrix2fv.bind(t);case"mat3":return t.uniformMatrix3fv.bind(t);case"mat4":return t.uniformMatrix4fv.bind(t);case"texture":return alert("You're on your own, kid."),null;case"vertexAttrib":var i=function(e,r){t.bindBuffer(t.ARRAY_BUFFER,r.pointer),t.vertexAttribPointer(e.pointer,r.itemSize,t.FLOAT,!1,0,0)};return i.bind(t);case"buffer":var i=function(e,r){t.bindBuffer(t.ARRAY_BUFFER,e.pointer),t.bufferData(t.ARRAY_BUFFER,r,t.DYNAMIC_DRAW)};return i.bind(t);default:return alert("Not gonna lie - you really messed up. I can't pass "+e+" onto the shader."),null}},Palette.Program.NONE_MODE=0,Palette.Program.VS_MODE=1,Palette.Program.FS_MODE=2,Palette.Program.BOTH_MODE=3,Palette.Program.POINTS=0,Palette.Program.LINES=1,Palette.Program.LINE_LOOP=2,Palette.Program.LINE_STRIP=3,Palette.Program.TRIANGLES=4,Palette.Program.TRIANGLE_STRIP=5,Palette.Program.TRIANGLE_FAN=6,Palette.Program.prototype.constructor=Palette.Program,Palette.Shader=function(t,e,r,a,s){this.name=e,this.type=r,this.context=t,this.attrs=s,this.shader=null,this.compiled=!1,this.bakeShader(a)},Palette.Shader.prototype={bakeShader:function(t){if(this.compiled)return null;switch(this.compiled=!0,this.type){case Palette.Shader.VS:this.shader=this.context.createShader(this.context.VERTEX_SHADER);break;case Palette.Shader.FS:this.shader=this.context.createShader(this.context.FRAGMENT_SHADER);break;default:return!1}return this.context.shaderSource(this.shader,t),this.context.compileShader(this.shader),this.context.getShaderParameter(this.shader,this.context.COMPILE_STATUS)?!0:(alert("An error occurred compiling the shaders: "+this.context.getShaderInfoLog(this.shader)),!1)}},Palette.Shader.VS=0,Palette.Shader.FS=1,Palette.Shader.LIST=2,Palette.Shader.prototype.constructor=Palette.Shader,Palette.ShaderFactory=function(t){that=this,this.manager=t,this.downloadInProgress=!1},Palette.ShaderFactory.prototype={addShader:function(t){var e,r;switch(this.establishType(t)){case Palette.ShaderFactory.SOURCE_OBJECT:e=t;case Palette.ShaderFactory.JSON:e=e||JSON.parse(t),r=this.createShaderObject(e);break;case Palette.ShaderFactory.SHADER_OBJECT:r=t;break;case Palette.ShaderFactory.URL:this.downloadFromURL(t);break;default:throw new Error("Not a valid type of shader.")}r&&this.registerShader(r)},createShaderObject:function(t){switch(t.type){case Palette.Shader.VS:case Palette.Shader.FS:return new Palette.Shader(this.manager.context,t.name,t.type,t.src,t.attrs);case Palette.Shader.LIST:for(var e=t.content.length-1;e>=0;e--)this.addShader(t.content[e]);break;default:throw new Error("Tried to create an illegal class of shader.")}},downloadFromURL:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.onload=function(){console.log(that),that.addShader(e.response),that.downloadInProgress=!1},that.downloadInProgress=!0,e.send()},establishType:function(t){var e=-1;return t instanceof Palette.Shader?e=Palette.ShaderFactory.SHADER_OBJECT:void 0!=t.type&&void 0!=t.name&&(t.content||t.src)?e=Palette.ShaderFactory.SOURCE_OBJECT:this.isJSON(t)?e=Palette.ShaderFactory.JSON:this.isString(t)&&(e=Palette.ShaderFactory.URL),e},isJSON:function(t){try{return JSON.parse(t),!0}catch(e){return!1}},isString:function(t){return"string"==typeof t||t instanceof String},registerShader:function(t){switch(t.type){case Palette.Shader.VS:this.manager.vertShaders[t.name]=this.manager.vertShaders[t.name]||t;break;case Palette.Shader.FS:this.manager.fragShaders[t.name]=this.manager.fragShaders[t.name]||t;break;default:throw new Error("Tried to register an illegal class of shader.")}}},Palette.ShaderFactory.SOURCE_OBJECT=0,Palette.ShaderFactory.JSON=1,Palette.ShaderFactory.URL=2,Palette.ShaderFactory.SHADER_OBJECT=3,Palette.ShaderFactory.prototype.constructor=Palette.ShaderFactory;var Sketch=Sketch||{};